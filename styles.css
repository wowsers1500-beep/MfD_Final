:root{
  --bg:#ecf0f5;
  --panel:#ffffff;
  --accent:#1d72b8;
  --accent-light:#e8f2f9;
  --muted:#666;
  --error:#e63946;
}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}
body{margin:0;background:var(--bg);color:#111}
header{background:linear-gradient(135deg, #0055cc, #1d72b8);color:#fff;padding:16px 20px;border-bottom:none;box-shadow:0 2px 8px rgba(0,0,0,0.08)}
header h1{margin:0;font-size:22px;font-weight:600}
main{padding:20px}
.controls{display:flex;gap:12px;align-items:center;margin-bottom:16px;background:var(--panel);padding:12px 16px;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.05)}
.controls label{font-weight:500}
.controls select{padding:6px 10px;border:1px solid #ddd;border-radius:4px;font-size:14px}
.controls button{background:var(--accent);color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-weight:500}
.controls button:hover{background:#1561a0}
.content{display:flex;gap:20px}
.graph-area{flex:1;background:var(--panel);padding:16px;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.05);position:relative;border:1px solid #e3e7ea}
.point-controls{margin-top:12px;display:grid;grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));gap:10px}
.point-control{background:#f8f9fa;padding:10px;border-radius:6px;border:1px solid #dee2e6}
.point-control label{display:block;font-size:12px;font-weight:600;color:var(--accent);margin-bottom:4px}
.point-control input{width:100%;padding:6px;border:1px solid #ddd;border-radius:4px;font-size:13px;font-family:monospace}
.point-control input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light)}
.sidebar{width:340px;background:var(--panel);padding:16px;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.05);border:1px solid #e3e7ea}
.equation{margin:8px 0 12px;font-family:monospace;background:var(--accent-light);padding:10px;border-radius:4px;border:1px solid #c2dff0;font-size:15px}
.reveal{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer;font-weight:600;font-size:14px;width:100%;margin-top:12px;transition:background 0.2s}
.reveal:hover{background:#1561a0}
.solution{margin-top:12px;background:#f8f9fa;padding:14px;border-radius:6px;border:1px solid #dee2e6;max-height:380px;overflow-y:auto}
.solution strong{display:block;margin-bottom:10px;color:var(--accent);font-size:15px}
.solution table{width:100%;border-collapse:collapse;margin:12px 0;font-family:monospace;font-size:13px}
.solution table th{background:#e8f2f9;padding:8px;text-align:left;border-bottom:2px solid #c2dff0;font-weight:600;color:var(--accent)}
.solution table td{padding:8px;border-bottom:1px solid #dee2e6}
.solution table tbody tr:nth-child(odd){background:#fafbfc}
.solution > div{line-height:1.6;margin:8px 0;color:#333}
#graph{width:100%;height:400px;display:block;cursor:grab}
#graph:active{cursor:grabbing}
.tooltip{position:absolute;pointer-events:none;background:#111;color:#fff;padding:8px 12px;border-radius:4px;font-size:13px;font-weight:500;box-shadow:0 2px 8px rgba(0,0,0,0.2)}
svg .axis{stroke:#999;stroke-width:1.5}
svg .axis-label{font-size:12px;fill:#666}
svg .grid{stroke:#eee;stroke-width:1}
svg .model{stroke:var(--accent);stroke-width:2.5;fill:none}
svg .point{fill:var(--error);stroke:#fff;stroke-width:2;cursor:grab}
svg .point:hover{r:7.5;filter:drop-shadow(0 2px 4px rgba(230,57,54,0.4))}
svg .point.dragging{cursor:grabbing}
.question-text{margin:12px 0;color:var(--muted);line-height:1.5;font-size:14px}
footer{padding:12px 16px;color:var(--muted);font-size:13px}
